import{j as o,c as ce,s as p,r as V,u as de,a as pe,b as ge,e as ue,A as fe,d as me,f as he,R as ve,g,L as be,T as S,C as ye,B as _e,h as N,i as Se,k}from"./index-ed945649.js";import{u as we,C as Ce}from"./Center-6c0bfcaa.js";import{I as L,T as Pe}from"./TextInput-af8b00f7.js";const xe=({reveal:e,size:t=15})=>o("svg",{width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Oe=Object.defineProperty,Ie=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,j=(e,t,r)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ke=(e,t)=>{for(var r in t||(t={}))Te.call(t,r)&&j(e,r,t[r]);if(W)for(var r of W(t))Ne.call(t,r)&&j(e,r,t[r]);return e},Le=(e,t)=>Ie(e,ze(t)),We=ce((e,{size:t,rightSectionWidth:r})=>({visibilityToggle:{},input:{position:"relative",overflow:"hidden"},innerInput:Le(ke({},e.fn.fontStyles()),{backgroundColor:"transparent",border:"1px solid transparent",borderLeftWidth:0,borderRightWidth:0,boxSizing:"border-box",position:"absolute",display:"block",width:`calc(100% - ${r}px)`,paddingLeft:e.fn.size({size:t,sizes:p})/3,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),height:e.fn.size({size:t,sizes:p})-2,lineHeight:`${e.fn.size({size:t,sizes:p})-4}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,top:0,bottom:0,left:0,right:0,"&:focus":{outline:0},"&:disabled":{cursor:"not-allowed"},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}),invalid:{color:e.fn.variant({variant:"filled",color:"red"}).background,"&::placeholder":{opacity:1,color:e.fn.variant({variant:"filled",color:"red"}).background}},withIcon:{paddingLeft:`${e.fn.size({size:t,sizes:p})}px !important`}}));const je=We;var $e=Object.defineProperty,Ve=Object.defineProperties,De=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,$=(e,t,r)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))D.call(t,r)&&$(e,r,t[r]);if(f)for(var r of f(t))R.call(t,r)&&$(e,r,t[r]);return e},Re=(e,t)=>Ve(e,De(t)),Ae=(e,t)=>{var r={};for(var s in e)D.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&f)for(var s of f(e))t.indexOf(s)<0&&R.call(e,s)&&(r[s]=e[s]);return r};const Me={xs:22,sm:26,md:28,lg:32,xl:40},Ee={xs:12,sm:15,md:17,lg:19,xl:21},Ue={xs:28,sm:32,md:34,lg:44,xl:54},Ze={size:"sm",toggleTabIndex:-1,visibilityToggleIcon:xe,__staticSelector:"PasswordInput"},A=V.exports.forwardRef((e,t)=>{const r=de("PasswordInput",Ze,e),{radius:s,disabled:n,size:a,toggleTabIndex:w,className:i,id:m,label:M,error:h,required:C,style:E,icon:P,description:U,wrapperProps:Z,classNames:v,styles:b,variant:B,visibilityToggleIcon:J,__staticSelector:x,rightSection:Be,rightSectionWidth:Je,rightSectionProps:qe,sx:q,labelProps:F,descriptionProps:H,errorProps:K,unstyled:c,visibilityToggleLabel:O,withAsterisk:G,inputContainer:Q,iconWidth:X,inputWrapperOrder:Y,visible:ee,defaultVisible:te,onVisibilityChange:re}=r,ie=Ae(r,["radius","disabled","size","toggleTabIndex","className","id","label","error","required","style","icon","description","wrapperProps","classNames","styles","variant","visibilityToggleIcon","__staticSelector","rightSection","rightSectionWidth","rightSectionProps","sx","labelProps","descriptionProps","errorProps","unstyled","visibilityToggleLabel","withAsterisk","inputContainer","iconWidth","inputWrapperOrder","visible","defaultVisible","onVisibilityChange"]),y=pe(),I=y.fn.size({size:a,sizes:Ue}),{classes:l,cx:se}=je({size:a,rightSectionWidth:I},{name:"PasswordInput",classNames:v,styles:b,unstyled:c}),z=ge(m),{systemStyles:oe,rest:ae}=ue(ie),[_,ne]=we({value:ee,defaultValue:te,finalValue:!1,onChange:re}),T=()=>ne(!_),le=o(fe,{className:l.visibilityToggle,tabIndex:w,radius:s,size:y.fn.size({size:a,sizes:Me}),"aria-hidden":!O,"aria-label":O,unstyled:c,onMouseDown:d=>{d.preventDefault(),T()},onKeyDown:d=>{d.key===" "&&(d.preventDefault(),T())},children:o(J,{reveal:_,size:y.fn.size({size:a,sizes:Ee})})});return o(L.Wrapper,{...u(u({required:C,id:z,label:M,error:h,description:U,size:a,className:i,style:E,classNames:v,styles:b,__staticSelector:x,sx:q,errorProps:K,descriptionProps:H,labelProps:F,unstyled:c,withAsterisk:G,inputWrapperOrder:Y,inputContainer:Q},oe),Z),children:o(L,{component:"div",invalid:!!h,icon:P,size:a,classNames:Re(u({},v),{input:l.input}),styles:b,radius:s,disabled:n,__staticSelector:x,rightSectionWidth:I,rightSection:!n&&le,variant:B,unstyled:c,iconWidth:X,children:o("input",{...u({type:_?"text":"password",required:C,className:se(l.innerInput,{[l.withIcon]:P,[l.invalid]:!!h}),disabled:n,id:z,ref:t},ae)})})})});A.displayName="@mantine/core/PasswordInput";function Ge(){const e=me(i=>i.setToken),t=he(),[r,s]=V.exports.useState(!1),[n,a]=ve.useState({username:"",password:""});return g(Ce,{mt:100,className:"d-flex justify-content-center align-items-center flex-column full-height",children:[o(be,{visible:r,overlayBlur:2}),g(S,{component:"h1",size:"xl",align:"center",children:[g(S,{weight:600,component:"span",children:[" ","\xA0STORE"]}),"SOFTWARE"]}),o(ye,{p:20,mt:14,className:"bg-white w-35 box-hover rounded",style:{minWidth:"350px"},children:g("form",{onSubmit:i=>i.preventDefault(),children:[o(S,{className:"text-secondary",align:"center",children:"Sign in for Admin / Technician"}),o(Pe,{placeholder:"Username",className:"mt-4",label:"Username",withAsterisk:!0,onChange:i=>a({...n,username:i.target.value})}),o(A,{placeholder:"Password",label:"Password",description:"Password must include at least one letter, number and special character",withAsterisk:!0,className:"mt-4",onChange:i=>a({...n,password:i.target.value})}),o(_e,{type:"submit",variant:"gradient",className:"float-right mt-2",onClick:async()=>{s(!0),console.log(N);try{const{data:i,status:m}=await Se.post(N+"api/login/",n);m>400?k("Error","Invalid Credentials"):(sessionStorage.setItem("mzr_token",JSON.stringify(i.token)),sessionStorage.setItem("mzr_role",JSON.stringify(i.role)),sessionStorage.setItem("mzr_allocated_budget",JSON.stringify(i.allocated_budget)),e(i.token,i.role,i.allocated_budget),i.role=="vice-manager"&&t("/vice-manager/home"),i.role=="store-manager"&&t("/store-manager/home"),i.role=="department-admin"&&i.username=="faiz"&&t("/faiz/home"))}catch(i){k("Error",i.message)}s(!1)},children:"Login"})]})})]})}export{Ge as default};
